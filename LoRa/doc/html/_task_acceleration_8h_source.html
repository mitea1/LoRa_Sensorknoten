<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>LoRa Sensorknoten: app/TaskAcceleration.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="Logo-LoRa-600x370.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">LoRa Sensorknoten
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d422163b96683743ed3963d4aac17747.html">app</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">TaskAcceleration.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="_task_acceleration_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;</div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_m_p_u9250_8h.html">MPU9250.h</a>&quot;</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_m_p_u9250_acceleration_message_8h.html">MPU9250AccelerationMessage.h</a>&quot;</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &quot;main.h&quot;</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;</div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#ifndef TASKACCELERATION_H_</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#define TASKACCELERATION_H_</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;</div>
<div class="line"><a name="l00022"></a><span class="lineno"><a class="line" href="class_task_acceleration.html">   22</a></span>&#160;<span class="keyword">class </span><a class="code" href="class_task_acceleration.html">TaskAcceleration</a> {</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;    <a class="code" href="class_task_acceleration.html">TaskAcceleration</a>(<a class="code" href="class_m_p_u9250.html">MPU9250</a>*,Mutex*, Queue&lt;MPU9250AccelerationMessage,ACCELERATION_QUEUE_LENGHT&gt;*);</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;    <a class="code" href="class_task_acceleration.html">TaskAcceleration</a>(<a class="code" href="class_m_p_u9250.html">MPU9250</a>*,Mutex*,Queue&lt;MPU9250AccelerationMessage,ACCELERATION_QUEUE_LENGHT&gt;*,</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;            osPriority, uint32_t, <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>*);</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;    <span class="keyword">virtual</span> ~<a class="code" href="class_task_acceleration.html">TaskAcceleration</a>();</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    osStatus <a class="code" href="class_task_acceleration.html#aedfec3a60f517bbab4c8689dfd9c5c00">start</a>();</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    osStatus <a class="code" href="class_task_acceleration.html#af0ba8f331bca797340f0752187ab6914">stop</a>();</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    TASK_STATE <a class="code" href="class_task_acceleration.html#a74d8657ad86fec38efae380a393679cc">getState</a>();</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="keyword">private</span>:</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    rtos::Thread* thread;</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    rtos::Queue&lt;MPU9250AccelerationMessage,ACCELERATION_QUEUE_LENGHT&gt;* queue;</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    rtos::Mutex* mutexI2C ;</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    osPriority priority = osPriorityNormal;</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    uint32_t stack_size = DEFAULT_STACK_SIZE;</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *stack_pointer = NULL;</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    TASK_STATE state;</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    <a class="code" href="class_m_p_u9250.html">MPU9250</a>* mpu9250;</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">void</span> callBack(<span class="keywordtype">void</span> <span class="keyword">const</span> *);</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    <span class="keywordtype">void</span> measureAcceleration();</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <span class="keywordtype">void</span> setQueue(Queue&lt;MPU9250AccelerationMessage,ACCELERATION_QUEUE_LENGHT&gt;* queueAcceleration);</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    <span class="keywordtype">void</span> setMutex(Mutex* mutexI2C);</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <span class="keywordtype">void</span> setPriority(osPriority priority);</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <span class="keywordtype">void</span> setStackSize(uint32_t stackSize);</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    <span class="keywordtype">void</span> setStackPointer(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>* stackPointer);</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    <span class="keywordtype">void</span> setState(TASK_STATE taskState);</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;};</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* TASKACCELERATION_H_ */</span><span class="preprocessor"></span></div>
<div class="ttc" id="class_task_acceleration_html_a74d8657ad86fec38efae380a393679cc"><div class="ttname"><a href="class_task_acceleration.html#a74d8657ad86fec38efae380a393679cc">TaskAcceleration::getState</a></div><div class="ttdeci">TASK_STATE getState()</div><div class="ttdef"><b>Definition:</b> TaskAcceleration.cpp:89</div></div>
<div class="ttc" id="class_task_acceleration_html_af0ba8f331bca797340f0752187ab6914"><div class="ttname"><a href="class_task_acceleration.html#af0ba8f331bca797340f0752187ab6914">TaskAcceleration::stop</a></div><div class="ttdeci">osStatus stop()</div><div class="ttdef"><b>Definition:</b> TaskAcceleration.cpp:34</div></div>
<div class="ttc" id="class_task_acceleration_html"><div class="ttname"><a href="class_task_acceleration.html">TaskAcceleration</a></div><div class="ttdoc">This TaskAcceleration Class handles the acceleration measurement using the MPU9250. Starting the task using the start() starts the measurement. It can be used alongside with other measurement Tasks inside the mbed::rtos environment. The Task Class basically wraps mbeds Thread functionality. </div><div class="ttdef"><b>Definition:</b> TaskAcceleration.h:22</div></div>
<div class="ttc" id="_m_p_u9250_8h_html"><div class="ttname"><a href="_m_p_u9250_8h.html">MPU9250.h</a></div></div>
<div class="ttc" id="class_m_p_u9250_html"><div class="ttname"><a href="class_m_p_u9250.html">MPU9250</a></div><div class="ttdoc">Provides Functionality to control the MPU9250 Sensor on the Sensbert. </div><div class="ttdef"><b>Definition:</b> MPU9250.h:319</div></div>
<div class="ttc" id="_m_p_u9250_acceleration_message_8h_html"><div class="ttname"><a href="_m_p_u9250_acceleration_message_8h.html">MPU9250AccelerationMessage.h</a></div></div>
<div class="ttc" id="class_task_acceleration_html_aedfec3a60f517bbab4c8689dfd9c5c00"><div class="ttname"><a href="class_task_acceleration.html#aedfec3a60f517bbab4c8689dfd9c5c00">TaskAcceleration::start</a></div><div class="ttdeci">osStatus start()</div><div class="ttdef"><b>Definition:</b> TaskAcceleration.cpp:29</div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Jun 20 2016 21:41:33 for LoRa Sensorknoten by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.9.1
</small></address>
</body>
</html>
